{"version":3,"sources":["visibility_polygon_dev.js"],"names":["VisibilityPolygon","VISIBILITYPOLYGON_EPSILON","compute","position","segments","bounded","minX","minY","maxX","maxY","i","length","j","Math","min","max","push","polygon","sorted","sortPoints","map","Array","heap","start","a1","angle","a2","active","insert","extend","shorten","orig","vertex","old_segment","remove","cur","intersectLines","equal","computeViewport","viewportMinCorner","viewportMaxCorner","brokenSegments","viewport","intersections","k","doLineSegmentsIntersect","intersect","endIndex","endDis","distance","dis","splice","viewportSegments","inViewport","eps","inPolygon","val","edge","parity","angle2","convertToSegments","polygons","breakIntersections","output","a","b","abs","index","destination","pop","parent","lessThan","temp","left","child","right","index1","index2","inter1","inter2","d1","d2","end1","end2","floor","c","a3","points","sort","RAD_2_DEG","PI","atan2","b1","b2","dbx","dby","dax","day","u_b","ua","dx","dy","x1","y1","x2","y2","x3","y3","x4","y4","s1_x","s1_y","s2_x","s2_y","denom","s","t","module","exports"],"mappings":"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","file":"visibility_polygon.js"}